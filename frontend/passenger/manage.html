<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Manage Booking | Kashmir Heli Services</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="../css/passenger.css">

<style>
body {
  background:#eef2f7;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}

.card {
  background:#fff;
  width:95%;
  max-width:500px;
  padding:25px;
  border-radius:14px;
  box-shadow:0 20px 40px rgba(0,0,0,0.2);
}

h2 { text-align:center; margin-bottom:8px; }
p { text-align:center; color:#666; }

input {
  width:100%;
  padding:12px;
  margin-top:8px;
  border-radius:8px;
  border:1px solid #ccc;
}

button {
  width:100%;
  margin-top:10px;
  padding:12px;
  border:none;
  border-radius:8px;
  background:#1da1f2;
  color:white;
  cursor:pointer;
}

button:hover { opacity:.9; }

.actions { display:none; gap:8px; margin-top:12px; }
.actions button { flex:1; }

.download { background:#2ecc71; }
.modify { background:#f39c12; }
.cancel { background:#e74c3c; }

#modifyBox { display:none; margin-top:12px; }
</style>
</head>

<body>

<div class="card">
  <h2>üîê Manage Booking</h2>
  <p>Only logged-in passengers can manage their booking</p>

  <input id="ticketNumber" placeholder="HC-XXXXXX">
  <button onclick="loadBooking()">View Booking</button>

  <div id="bookingDetails"></div>

  <div class="actions" id="actionButtons">
    <button class="download" onclick="downloadTicket()">üìÑ Download</button>
    <button class="modify" onclick="showModify()">‚úèÔ∏è Modify</button>
    <button class="cancel" onclick="cancelBooking()">‚ùå Cancel</button>
  </div>

  <div id="modifyBox">
    <input type="date" id="newDate">
    <input type="text" id="newPhone" placeholder="New phone (optional)">
    <input type="email" id="newEmail" placeholder="New email (optional)">
    <button onclick="submitModify()">Save Changes</button>
  </div>

  <p style="text-align:center;margin-top:12px;">
    <a href="book.html">‚Üê Back</a> |
    <a href="#" onclick="passengerLogout()">Logout</a>
  </p>
</div>

<script src="../js/passenger.js"></script>

<script>
if(!localStorage.getItem("passengerToken")){
  alert("Login first");
  location.href="login.html";
}
</script>

</body>
</html>
