<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Kashmir Heli Services | Official Helicopter Booking Portal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ================= HERO ================= -->
<header class="hero">
  <div class="hero-overlay"></div>

  <nav class="navbar">
    <h1 class="logo">ğŸš Kashmir Heli Services</h1>
    <div class="nav-buttons">
      <button onclick="goPassenger()">Passenger Login</button>
      <button class="admin-btn" onclick="goAdmin()">Admin Login</button>
    </div>
  </nav>

  <div class="hero-content">
    <h2>Fast â€¢ Safe â€¢ Scenic Helicopter Travel</h2>
    <p>
      Official helicopter booking portal for Jammu & Kashmir.<br>
      OTP-secured booking â€¢ Real-time availability â€¢ PDF tickets
    </p>

    <div class="hero-actions">
      <button class="primary" onclick="goPassenger()">âœˆï¸ Book Flight</button>
      <button class="secondary" onclick="goManage()">ğŸ“„ Manage Booking</button>
    </div>
  </div>
</header>

<!-- ================= TRUST STRIP ================= -->
<section class="trust-strip">
  <div class="trust-item">
    <span class="trust-icon">ğŸ”</span>
    <div>
      <h4>OTP Secured</h4>
      <p>Verified passenger authentication</p>
    </div>
  </div>

  <div class="trust-item">
    <span class="trust-icon">ğŸš</span>
    <div>
      <h4>Govt-Controlled Quota</h4>
      <p>Admin monitored seat allocation</p>
    </div>
  </div>

  <div class="trust-item">
    <span class="trust-icon">ğŸ“„</span>
    <div>
      <h4>Official PDF Tickets</h4>
      <p>QR-verified boarding passes</p>
    </div>
  </div>

  <div class="trust-item">
    <span class="trust-icon">â›°ï¸</span>
    <div>
      <h4>Certified Routes</h4>
      <p>Scenic & safe destinations</p>
    </div>
  </div>
</section>

<!-- ================= LIVE STATS ================= -->
<section class="stats">
  <div class="stat-card">
    <h2 class="counter" id="totalBookings">0</h2>
    <p>Total Bookings</p>
  </div>

  <div class="stat-card">
    <h2 class="counter" id="confirmedBookings">0</h2>
    <p>Confirmed Flights</p>
  </div>

  <div class="stat-card">
    <h2 class="counter" id="totalSeats">0</h2>
    <p>Total Seats</p>
  </div>

  <div class="stat-card">
    <h2 class="counter" id="availableSeats">0</h2>
    <p>Available Seats</p>
  </div>
</section>

<!-- ================= DESTINATIONS ================= -->
<section class="destinations">
  <h2>ğŸ”ï¸ Popular Tourist Destinations</h2>

  <div class="destination-grid">
    <button class="dest-btn" onclick="openDestination('gulmarg')">Gulmarg</button>
    <button class="dest-btn" onclick="openDestination('sonamarg')">Sonamarg</button>
    <button class="dest-btn" onclick="openDestination('pahalgam')">Pahalgam</button>
    <button class="dest-btn" onclick="openDestination('dal')">Dal Lake</button>
    <button class="dest-btn" onclick="openDestination('gurez')">Gurez Valley</button>
    <button class="dest-btn" onclick="openDestination('yusmarg')">Yusmarg</button>
    <button class="dest-btn" onclick="openDestination('doodhpathri')">Doodhpathri</button>
    <button class="dest-btn" onclick="openDestination('bangus')">Bangus Valley</button>
    <button class="dest-btn" onclick="openDestination('aharbal')">Aharbal Waterfall</button>
    <button class="dest-btn" onclick="openDestination('verinag')">Verinag</button>
    <button class="dest-btn" onclick="openDestination('kokernag')">Kokernag</button>
    <button class="dest-btn" onclick="openDestination('manasbal')">Manasbal Lake</button>
    <button class="dest-btn" onclick="openDestination('wular')">Wular Lake</button>
    <button class="dest-btn" onclick="openDestination('tosamaidan')">Tosa Maidan</button>
    <button class="dest-btn" onclick="openDestination('naranag')">Naranag</button>
    <button class="dest-btn" onclick="openDestination('aru')">Aru Valley</button>
    <button class="dest-btn" onclick="openDestination('betaab')">Betaab Valley</button>
  </div>
</section>

<!-- ================= DESTINATION MODAL ================= -->
<div id="destinationModal" class="modal">
  <div class="modal-box small">
    <span class="close" onclick="closeDestination()">&times;</span>
    <h2 id="destTitle"></h2>
    <p id="destDesc"></p>
    <ul id="destList"></ul>
    <button class="primary" onclick="goPassenger()">ğŸš Book Helicopter</button>
  </div>
</div>

<!-- ================= FOOTER ================= -->
<footer class="footer">
  <p>
    Â© 2026 Kashmir Heli Services<br>
    Official helicopter booking platform
  </p>
</footer>

<!-- ================= SCRIPT ================= -->
<script>
/* ---------- NAV ---------- */
function goPassenger() { window.location.href = "passenger/login.html"; }
function goManage() { window.location.href = "passenger/manage.html"; }
function goAdmin() { window.location.href = "admin/login.html"; }

/* ---------- LIVE COUNTERS ---------- */
async function loadStats() {
  try {
    const res = await fetch("http://localhost:4000/admin/stats/live");
    const data = await res.json();

    animateCounter("totalBookings", data.totalBookings);
    animateCounter("confirmedBookings", data.confirmed);
    animateCounter("totalSeats", data.totalSeats);
    animateCounter("availableSeats", data.availableSeats);
  } catch (err) {
    console.error("Stats load failed");
  }
}

function animateCounter(id, target) {
  const el = document.getElementById(id);
  let count = 0;
  const step = Math.ceil(target / 60);

  const interval = setInterval(() => {
    count += step;
    if (count >= target) {
      el.innerText = target;
      clearInterval(interval);
    } else {
      el.innerText = count;
    }
  }, 20);
}

loadStats();

/* ---------- DESTINATIONS ---------- */
const destinations = {
  gulmarg:{title:"Gulmarg",desc:"World-famous ski resort and gondola rides.",list:["Skiing","Gondola","Snow sports"]},
  sonamarg:{title:"Sonamarg",desc:"Gateway to Ladakh with glaciers.",list:["Thajiwas Glacier","Sindh River"]},
  pahalgam:{title:"Pahalgam",desc:"Lidder valley & Amarnath base.",list:["Aru Valley","River Lidder"]},
  dal:{title:"Dal Lake",desc:"Iconic lake of Srinagar.",list:["Shikara","Houseboats"]},
  gurez:{title:"Gurez Valley",desc:"Remote Himalayan valley.",list:["Kishanganga","Culture"]},
  yusmarg:{title:"Yusmarg",desc:"Meadow surrounded by forests.",list:["Hiking"]},
  doodhpathri:{title:"Doodhpathri",desc:"Milky streams & valleys.",list:["Grasslands"]},
  bangus:{title:"Bangus Valley",desc:"Untouched alpine valley.",list:["Wildflowers"]},
  aharbal:{title:"Aharbal Waterfall",desc:"Niagara of Kashmir.",list:["Photography"]},
  verinag:{title:"Verinag",desc:"Source of Jhelum.",list:["Mughal Garden"]},
  kokernag:{title:"Kokernag",desc:"Freshwater springs.",list:["Gardens"]},
  manasbal:{title:"Manasbal Lake",desc:"Deepest lake of Kashmir.",list:["Lotus"]},
  wular:{title:"Wular Lake",desc:"Largest freshwater lake.",list:["Birding"]},
  tosamaidan:{title:"Tosa Maidan",desc:"High altitude meadow.",list:["Camping"]},
  naranag:{title:"Naranag",desc:"Ancient ruins.",list:["Temples"]},
  aru:{title:"Aru Valley",desc:"Trek base camp.",list:["Trekking"]},
  betaab:{title:"Betaab Valley",desc:"Film valley.",list:["Photography"]}
};

function openDestination(key){
  const d=destinations[key];
  document.getElementById("destTitle").innerText=d.title;
  document.getElementById("destDesc").innerText=d.desc;
  const ul=document.getElementById("destList");
  ul.innerHTML="";
  d.list.forEach(i=>{
    const li=document.createElement("li");
    li.innerText="âœ” "+i;
    ul.appendChild(li);
  });
  document.getElementById("destinationModal").style.display="flex";
}
function closeDestination(){
  document.getElementById("destinationModal").style.display="none";
}
</script>

<div class="snow"></div>
</body>
</html>
